# CSAPP | Chapter 3 | 程序的机器级表示
## Intel 处理器模型
$8086$: 16位微处理器
$IA32$: Intel 32 位体系结构
$x86-64(x86)$: $IA32$ 的 64 位扩展
## 程序编码
```shell
gcc -Og -o p p1.c p2.c
```
编译选项 -Og 告诉编译器使用会生成符合原始 C 代码整体结构的机器代码的优化等级。
### gcc 命令过程
C 预处理扩展源代码，插入 \#include 命令指定的文件，并且扩展所有用 \#define 声明指定的宏。其次，编译器会生成两个源文件的汇编代码，分别为 p1.s 和 p2.s。接下来汇编器会将汇编代码转化为二进制目标代码文件 p1.o 和 p2.o。最后，链接器将两个目标代码文件与实现库函数(例如 printf) 的代码合并，并最终产生可执行代码文件 p(由 -o p 指定)。
### 机器级代码
#### $ISA$
指令集体系结构或指令集架构，定义机器级程序的格式和行为，定义了处理器状态、指令格式以及每条指令对状态的影响。
#### $PC$
程序计数器，在 x86-64 用 $\%rip$ 表示，给出将要执行的下一条指令在内存中的地址。
#### 寄存器
**整数寄存器文件**包含 16 个命名的位置，分别存储 64 位的值。这些寄存器可以存储地址 (对应于 C 语言的指针)或整数数据。有的寄存器被用来记录某些重要的程序状态，而其他的寄存器用来保存临时数据，例如过程的参数和局部变量，以及函数的返回值。 

**条件码寄存器**保存着最近执行的算术或逻辑指令的状态信息。它们用来实现控制或数据流中的条件变化，比如说用来实现 if 和 while 语句。 

**一组向量寄存器**可以存放一个或多个整数或浮点数值。