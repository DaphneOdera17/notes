事务是一组操作的集合，它是一个不可分割的工作单位，这些操作**要么同时成功，要么同时失败**。

- 开启事务 (一组操作开始前，开启事务) `start transaction / begin;`
- 提交事务 (这组操作全部成功后，提交事务) `commit;`
- 回滚事务 (中间任何一个操作出现异常，回滚事务) `rollback;`

## Spring 事务管理
注解： @Transactional
位置：业务 (service) 层的方法上、类上、接口上
作用：将当前方法交给 spring 进行事务管理，方法执行前，开启事务；成功执行完毕，提交事务；

springboot 启动类要加上 `@EnableTransactionManagement`
### 事务属性 - 回滚
rollbackFor
默认情况下，只有出现 $RuntimeException$ 才回滚异常。rollbackFor 属性用于控制出现何种异常类型，回滚事务。

出现所有的异常都会进行事务的回滚：
```java
@Transactional(rollbackFor = Exception.class)
```
### 事务属性 - 传播行为
propagation
事务传播行为：指的是当一个事务方法被另一个事务方法调用时，这个事务方法应该如何进行事务控制。